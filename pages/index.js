import Head from 'next/head'
import {useState} from "react"
import Carousel from 'react-bootstrap/Carousel'
import styles from '../styles/Home.module.css'
export default function Home({nationalNews}) {

  const [index, setIndex] = useState(0);

  const handleSelect = (selectedIndex, e) => {
    setIndex(selectedIndex);
  };

  return (
  <>
    <Head>
        <title>The India Times</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />    
        <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
          crossOrigin="anonymous"
        />    
    </Head>

    <div className={styles.container}>

      
      <div id="home">
        <h1 className={styles.title} >
           The India Times <a href="https://nextjs.org">Next.js!</a>
        </h1>
        Menu
      </div>

      <Carousel activeIndex={index} onSelect={handleSelect} className={styles.slider}>
        {nationalNews.data.map((val)=>(
          <Carousel.Item className={styles.card}>
            <a href="https://nextjs.org/docs"  key={val.title}>
            <h2>{val.title} &rarr;</h2>
            <div className={styles.containerChildGrid}>
              <div>
                <img src={val.imageUrl} className={styles.img}/>
              </div>
              <div>
                <p>asdjajsfjjasd</p>
              </div>
            </div>
            
            <p><b>Author:</b> {val.author}</p>
            </a>
          </Carousel.Item>
        ))}
        
     
   
    </Carousel>
    

     
    </div>
  </>
  )
}


export const getStaticProps=async()=>{
  const res=await fetch("https://inshorts.deta.dev/news?category=national")
  .then(res=>res.json())

  return{
    props:{
      nationalNews:res
    }
  }
}
